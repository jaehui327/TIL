# Reflection

- 실행 시간에 동적으로 특정 클래스의 정보를 추출할 수 있는 프로그래밍 기법
- 구체적 클래스 타입을 알지 못해도, 클래스 파일의 위치나 이름만 있다면, 해당 클래스의 메서드, 타입, 변수들에 접근할 수 있도록 해주는 자바 API

### 추출 가능 정보
- `Class`, `Constructor`, `Method`, `Field`

### 장점
- 유연성 
- 런타임 시점에서 클래스의 인스턴스를 생성하고 접근제어자와 관계 없이 필드와 메서드에 접근하여 필요한 작업을 수행 가능

### 단점
- 캡슐화 저해
  - 런타임 시점에 private 필드 및 메서드도 조작 가능
- 런타임 시점에 동작하여 컴파일 시점에 디버깅 불가능

### 사용 목적
- 동적으로 클래스를 사용해야 할 경우
- 작성 시점에는 어떤 클래스를 사용할지 모르지만 런타임 시점에서 가져와 실행하는 경우
- 규모가 큰 프로그램에서 객체와 의존관계 파악이 어려운 경우
  - 동적으로 클래스를 만들어서 의존관계를 맺어줌

### 사용 예시 1. Spring Bean Factory
- `@Controller`, `@Service` 등의 어노테이션을 통해 Bean Factory에서 알아서 해당 클래스를 생성 및 관리
- 런타임에 리플렉션을 통해 해당 클래스 인스턴스 생성 및 필드 주입
- 
### 사용 예시 2. BFF JSON Builder
- API Response로 받은 JSON 데이터를 프론트엔드 요규사항에 맞게 BFF에서 가공
- 현직장에서는 JSON 값을 Nexacro에서 처리할 수 있도록 xml Dataset 형태로 변환 

> ### 💡JSON Response 타입 추론 시 문제점
> - 소수점을 가지는 `BigDecimal` 필드의 값이 `long`으로 오인되는 경우 발생
> - ⛔️ 해결법 모색 필요 ⛔️
